<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width"><link href="../../css/iconfont/iconfont.css" rel="stylesheet"><link href="../../css/common.css" rel="stylesheet"><style>#app{overflow-x:hidden}.header-title{justify-content:center!important}.eui-footerbar{padding-bottom:.45rem}.eui-headerbar{padding-top:.9rem}.eui-headerbar.isEdit{padding-top:.45rem}.eui-text-ellipsis-1>:last-child::after{background:var(--COLOR-GRAY)}</style><link href="../../script/lib/swiper/css/swiper.min.css" rel="stylesheet"><script src="../../script/lib/swiper/js/swiper.min.js"></script><script src="../../script/lib/app.responsive.min.js"></script><script src="../../script/lib/vue.min.js"></script><script src="../../script/lib/hammer.min.js"></script><script src="../../script/lib/vue-touch.min.js"></script><script src="../../script/lib/api.min.js"></script><script src="../../script/lib/jquery-3.4.1.min.js"></script><script src="../../script/common.js"></script><script src="../../script/filters.js"></script><script src="../../script/service.js"></script></head><body><div id="app"><div class="eui-page eui-headerbar" :class="{isEdit:isEdit || items.length == 0,'eui-footerbar': items.length > 0}"><div class="eui-fix eui-top"><header class="eui-header" id="header"><div class="header"><div class="header-left"></div><div class="header-title">购物袋</div><div class="header-right eui-red"><div v-cloak="" v-if="items.length > 0" @click="edit()"><span v-if="!isEdit">删除</span> <span v-if="isEdit">取消</span></div></div></div></header><div v-cloak="" v-if="!isEdit && items.length > 0" class="padding eui-block flex eui-bordered-b" @click="checkboxAllClick()"><div class="eui-checkbox" :class="{active:isAllChecked}"><span class="iconfont icon-selected"></span></div><div class="margin-left flex ai-center"><span class="iconfont icon-deliver"></span> <span class="margin-left eui-unimportant">韩国直邮满298元 包邮</span></div></div></div><div v-if="items.length === 0"><div class="eui-block" style="height:2.5rem"><div class="eui-page-empty flex flex-column jc-center ai-center"><div class="iconfont icon-bag" style="font-size:1rem;color:#999"></div><div>购物袋是空的，快去逛逛吧！</div><div class="padding-v"><div class="eui-btn eui-btn-mid" @click="util.app.emit('main-tab', {tab: 'category'})"><span>去逛逛</span></div></div></div></div><div class="margin-bottom eui-block"><div class="flex padding eui-bordered-t"><span class="iconfont icon-star"></span> <span class="padding-h">为您推荐</span></div><div class="eui-grid"><div class="eui-grid-row"><div class="eui-grid-column pro-item" v-for="item in 1,4" style="width:50%"><div class="eui-block padding" @click="util.app.openWindow('personal', '../home/pro_detail_win.html', {reload: true})"><div style="height:1rem" class="margin-bottom-s"><img src="" alt="" class="default"></div><div class="eui-text-ellipsis"><span class="eui-unimportant">SNP 海洋面膜 10片 SNP 海洋面膜 10片</span></div></div><div class="eui-block padding-h" @click="util.app.openWindow('personal', '../community/personal_win.html')"><div class="eui-comment"><div class="eui-unimportant eui-text-ellipsis-1" style="height:.3rem;line-height:.15rem;overflow:hidden"><span>购买用户评论内容购买用户评论内容购买用户评论内容购买用户评论内容</span> <span></span></div></div><div class="eui-block flex padding-v"><div class="eui-icon-min eui-round"><img src="" alt="" class="default"></div><div style="flex:initial;width:calc(100% - .35rem);margin-left:.1rem" class="flex ai-center eui-text-ellipsis"><span>用户名用户名用户名用户名用户名</span></div></div></div></div></div></div></div></div><div v-if="items.length > 0"><v-touch class="eui-block eui-item pro-item" v-for="(item,index) in items" :swipe-options="{direction: 'horizontal'}" :class="{active: item.active, deleted: item.deleted}" :key="item.id" @swipeleft="swipeItem($event, item, true)" @swiperight="swipeItem($event, item, false)"><div class="eui-item-options" style="padding:0"><div class="eui-btn eui-btn-block eui-btn-passive eui-rect" style="padding:0;height:100%" @click="deleteItem(item,index)">删除</div></div><div class="eui-item-left"><div class="eui-checkbox" :class="{active:item.checked}" style="margin-right:.1rem" @click="checkboxClick(item)"><span class="iconfont icon-selected"></span></div><div class="eui-icon-pic-xs"><img src="" alt="" class="default"></div></div><div class="eui-item-body" style="padding-right:.1rem;width:calc(100% - 1.55rem);height:.65rem"><div class="flex flex-column jc-between" style="width:100%;height:100%"><div class="flex eui-text-ellipsis" @click="util.app.openWindow('pro-detail', '../home/pro_detail_win.html', {reload: true})"><div style="font-size:15px;color:#444">日本温泉酒店超人气产品日本温泉酒店超人气产品</div></div><div class="flex jc-between ai-center"><div class="eui-input-number"><span class="iconfont icon-minus"></span> <input type="text" class="text eui-input" value="1"> <span class="iconfont icon-plus"></span></div><div class="eui-red">¥600.0</div></div></div></div></v-touch><div class="eui-loading"><div class="eui-icon eui-icon-min eui-icon-loading"></div><div>加载中...</div></div><div class="eui-fix eui-bottom eui-block eui-bordered-t"><div v-cloak="" v-if="isEdit" class="padding flex jc-between"><div class="flex ai-center" @click="checkboxAllClick()"><div class="eui-checkbox" :class="{active:isAllChecked}"><span class="iconfont icon-selected"></span></div><span class="margin-left">全选</span></div><div class="eui-btn eui-btn-min eui-btn-passive" @click="deleteItems()">删除</div></div><div v-cloak="" v-if="!isEdit" class="eui-item"><div class="eui-item-left padding-h flex flex-column ai-start"><div><span>合计：</span> <span class="eui-red">¥214.0</span></div><div class="eui-unimportant">已优惠¥0.0（不含运费和综合税）</div></div><div class="eui-item-right" style="padding:0;width:.8rem"><div class="eui-btn eui-btn-block eui-btn-passive eui-rect" @click="settle()"><span>结算</span></div></div></div></div></div><div class="eui-modal bottom" :class="{visible:loginModalVisible}" @click="viewLoginModal(false)"><div class="eui-card eui-block" @click.stop><div class="eui-card-header eui-noborder"><div class="eui-card-title eui-important"></div><div @click="viewLoginModal(false)"><span class="iconfont icon-close"></span></div></div><div class="eui-card-body padding-h"><div class="padding margin-bottom eui-btns eui-btns-v"><div class="eui-btn eui-btn-block eui-btn-fat eui-btn-passive" @click="login()"><span>登入</span></div><div class="eui-btn eui-btn-block eui-btn-fat" @click="register()"><span>注册</span></div></div><div class="padding margin-bottom flex jc-center ai-center"><div class="eui-absolute eui-bg-gray1" style="width:100%;height:.01rem"></div><div class="eui-absolute padding-h eui-bg-white eui-unimportant">第三方登入</div></div><div class="flex jc-center ai-center"><div v-for="share in shares" class="flex jc-center ai-center" @click="openApp()"><div class="flex padding-h flex-column jc-center ai-center"><div class="eui-round" style="margin-bottom:.05rem"><img class="eui-icon-larger" :src="share.image" :alt="share.label"></div></div></div></div><div class="padding-v flex jc-center ai-center eui-unimportant"><span class="iconfont icon-rights"></span> <span>分享到社区</span> <a class="eui-link margin-left">隐私条款</a></div></div></div></div></div></div></body><script>new Vue({el:"#app",filters:filters,data:function(){return{name:"",token:"",isEdit:!1,isAllChecked:!1,loginModalVisible:!1,items:[{id:1,checked:!1},{id:2,checked:!1},{id:3,checked:!1},{id:4,checked:!1},{id:5,checked:!1},{id:6,checked:!1},{id:7,checked:!1},{id:8,checked:!1}],shares:[{name:"wechat",label:"微信",image:"../../images/icon/icon-wechat.png"},{name:"weibo",label:"微博",image:"../../images/icon/icon-weibo.png"}]}},computed:{},mounted:function(){var i=this;util.app.ready(function(){i.name=util.app.param("name"),i.init()})},methods:{cloneItems:function(i){var e=[];return i.forEach(function(i){e.push(i)}),e},init:function(){var i=this;i.listen(),i.token=$api.getStorage("TOKEN")},listen:function(){var i=this;util.app.listen("keyback",function(){api.closeWidget()}),util.app.listen("viewappear",function(){}),util.app.listen("login",function(){i.token=$api.getStorage("TOKEN"),util.app.closeToWindow("main")}),util.app.listen("register",function(){i.token=$api.getStorage("TOKEN"),util.app.closeToWindow("main")})},edit:function(){var i=this;i.isEdit=!i.isEdit},checkboxClick:function(i){var e=this;i.checked=!i.checked,e.isAllChecked=0===e.items.filter(function(i){return!i.checked}).length,e.$forceUpdate()},checkboxAllClick:function(){var i=this;i.isAllChecked=!i.isAllChecked,i.items.forEach(function(e){e.checked=i.isAllChecked}),i.$forceUpdate()},deleteItem:function(i,e){var t=this;t.items.splice(e,1),t.$forceUpdate()},deleteItems:function(){var i=this;i.items=[],i.$forceUpdate()},swipeItem:function(i,e,t){var n=this;n.isEdit&&(e.active=t,n.$forceUpdate())},openMainTab:function(i){util.app.emit("main-tab",{tab:i})},settle:function(){var i=this;i.token?util.app.openWindow("settle","./settle_win.html"):i.loginModalVisible=!0},viewLoginModal:function(i){var e=this;e.loginModalVisible=i},login:function(){var i=this;util.app.openWindow("login","../user/login_win.html"),i.loginModalVisible=!1},register:function(){var i=this;util.app.openWindow("register","../user/register_win.html"),i.loginModalVisible=!1},openApp:function(i){}}})</script></html>