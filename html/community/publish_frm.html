<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width"><link href="../../css/iconfont/iconfont.css" rel="stylesheet"><link href="../../css/common.css" rel="stylesheet"><style>.eui-textarea{height:1.5rem}.publish-image{width:.7rem;height:.7rem}.publish-image:not(:first-child){margin-left:.1rem}.showSubjects{transform:rotate(0);transition:transform var(--TRANSITION)}.showSubjects.isShowSubjects{transform:rotate(90deg);transition:transform var(--TRANSITION)}</style><script src="../../script/lib/app.responsive.min.js"></script><script src="../../script/lib/vue.min.js"></script><script src="../../script/lib/api.min.js"></script><script src="../../script/lib/jquery-3.4.1.min.js"></script><script src="../../script/common.js"></script></head><body><div id="app"><div class="eui-page"><div class="eui-block eui-bordered margin-bottom"><div class="padding-h eui-bg-gray1"><textarea class="eui-textarea" placeholder="说点你的心得吧！！！" v-model="info.content" maxlength="1000" @input="handleContentInput($event)"></textarea><div class="padding flex jc-end eui-unimportant"><span>{{info.content.length}}/1000</span></div></div><div class="padding flex"><div v-for="image in images" class="publish-image"><div class="flex jc-center ai-center eui-absolute" style="width:100%;height:100%"><img src="" alt="" class="default"></div></div><div v-if="images.length < 2" class="flex jc-center ai-center eui-border publish-image" @click="addImages()"><span style="font-size:.3rem" class="iconfont icon-add1"></span></div></div></div><div class="eui-block eui-bordered"><div class="eui-item" @click="showSubjects()"><div class="eui-item-left">{{subject||'选择发布话题'}}</div><div class="eui-item-right"><span class="iconfont icon-right showSubjects" :class="{isShowSubjects:isShowSubjects}"></span></div></div><div v-if="isShowSubjects" v-for="item in subjects" class="eui-item" @click="selectSubjects(item)"><div class="eui-item-left">{{item.label}}</div></div></div></div></div><script>new Vue({el:"#app",data:function(){return{isShowSubjects:!1,subject:"",info:{content:""},images:[{}],subjects:[{label:"话题类目1"},{label:"话题类目2"},{label:"话题类目3"},{label:"话题类目4"},{label:"话题类目5"}]}},mounted:function(){var t=this;util.app.ready(function(){t.init()})},methods:{init:function(){var t=this;t.listen()},listen:function(){util.app.listen("keyback",function(){}),util.app.listen("viewappear",function(){}),util.app.listen("publish-publish",function(){util.app.openWindow("subject","./subject_win.html")})},handleContentInput:function(t){var e=this;e.info.content=t.target.value,e.$forceUpdate()},addImages:function(){var t=this;util.app.actionSheet("选择图片",["拍照","从手机相册选择"],function(e){util.app.getPicture(["camera","library"][e],function(e){t.images=t.images.concat(e),t.$forceUpdate()})})},showSubjects:function(){var t=this;t.isShowSubjects=!t.isShowSubjects},selectSubjects:function(t){var e=this;e.isShowSubjects=!1,e.subject=t.label}}})</script></body></html>