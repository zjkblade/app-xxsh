"use strict";var domain="",userAgent=navigator.userAgent,isAndroid=/android/gi.test(userAgent),_isProd=isAndroid;window.stringutil={template:function(e,t){return e.replace(/\{\w+\}/g,function(e){return t[e.replace(/\{|\}/g,"")]})}},window.arrayutil={split:function(e,t){for(var n=[];0!==e.length;)n.push(e.splice(0,t));return n},numberArray:function(n,e){return new Array(e-n+1).fill(1).map(function(e,t){return n+t})}},function(p){var n;p.apputil={objectKeys:Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},objectValues:Object.values||function(e){var t=[];for(var n in e)t.push(e[n]);return t},debounce:function(e,t){n?(new Date).getTime()-n>=e&&(t(),n=null):n=(new Date).getTime()},isProd:function(){return _isProd},ready:function(e){this.isProd()?p.apiready=e:$(e)},param:function(e){if(this.isProd())return api.pageParam[e];var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=unescape(decodeURI(p.location.search.substr(1))).match(t);return null!=n?JSON.parse(n[2]):null},fixStatusBar:function(e){util.app.isProd()?$api.fixStatusBar($api.byId(e)):$api.byId(e).style.paddingTop="0.26rem"},appInstalled:function(e){if(this.isProd())return api.appInstalled({sync:!0,appBundle:e})},openWindow:function(e,t,n){if((n=n||{}).reload&&(e=e+"-"+(new Date).getTime()),n.name=e,this.isProd())api.openWin({name:e,url:t,pageParam:n,bgColor:"#F4F4F4",delay:!1,bounces:!1,vScrollBarEnabled:!0,hScrollBarEnabled:!1,reload:!0});else{var i=[];for(var a in n)i.push(a+"="+JSON.stringify(n[a]));p.top.location.href=t+(0<i.length?"?"+encodeURI(escape(i.join("&"))):"")}},closeWindow:function(e){this.isProd()?api.closeWin({name:e}):p.top.history.back()},closeToWindow:function(e,t){this.isProd()?api.closeToWin({name:e,animation:{type:"reveal",subType:"from_left",duration:300}}):p.top.location.href=t},openFrame:function(e,t,n,i){if((i=i||{}).name=e,this.isProd())api.openFrame({name:e,url:t,rect:{x:n.x||0,y:n.y,w:n.w||"auto",h:n.h||"auto"},pageParam:i,bounces:!1,vScrollBarEnabled:!0,hScrollBarEnabled:!1,reload:!0,animation:{type:"fade",duration:300}});else{var a=[];for(var r in i)a.push(r+"="+JSON.stringify(i[r]));var o=document.getElementById("app"),u=document.createElement("iframe"),s=n.y||0,l=(n.h||this.winHeight()-s)+"px";u.name=e,u.style.width="100%",u.style.border="none",u.style.height=l,u.src=t+(0<a.length?"?"+encodeURI(escape(a.join("&"))):""),o.append(u),p.top.frame=u}},closeFrame:function(e){this.isProd()?api.closeFrame({name:e}):p.top.document.getElementById("app").removeChild(p.top.document.getElementsByName(e)[0])},winHeight:function(){return this.isProd()?api.winHeight:$api.offset($api.byId("app")).h},emit:function(e,t){this.isProd()?api.sendEvent({name:e,extra:t}):(p.top.postMessage({"event-name":e,extra:t},"*"),p.top.frame&&p.top.frame.contentWindow.postMessage({"event-name":e,extra:t},"*"))},listen:function(n,i){this.isProd()?api.addEventListener({name:n},function(e){i&&i.apply(null,[e])}):p.addEventListener("message",function(e){var t=e.data;t["event-name"]===n&&i&&i.apply(null,[{value:t.extra}])})},toast:function(e){this.isProd()?api.toast({msg:e,duration:2e3,location:"middle"}):console.info(e)},alert:function(e,t){this.isProd()&&api.alert({title:e,msg:t})},confirm:function(e,t,n,i){this.isProd()&&api.confirm({title:e,msg:t},function(e){2===e.buttonIndex?n&&n():i&&i()})},openPicker:function(e,t){util.app.isProd()?api.openPicker({type:"date",title:e},function(e){e&&t(new Date(e.year,e.month-1,e.day))}):t()},actionSheet:function(e,n,i){util.app.isProd()?api.actionSheet({title:e,buttons:n},function(e){var t=e.buttonIndex;t<=n.length&&i(t-1)}):i(0)},getPicture:function(e,n){util.app.isProd()?api.getPicture({sourceType:e,mediaValue:"pic",destinationType:"url",allowEdit:!0,encodingType:"jpg",quality:40,saveToPhotoAlbum:!0},function(e,t){e.data&&!t&&n(e.data)}):n("")},imageClip:function(e,t,n,i){if(util.app.isProd()){var a=api.require("FNImageClip");a.reset(),a.open({rect:{x:0,y:t.y,w:api.winWidth,h:t.h},srcPath:e,highDefinition:!0,style:{mask:"rgba(0,0,0,0.8)",clip:{w:n.width,h:n.height,borderWidth:1,appearance:n.shape}},mode:"clip"},function(e,t){e&&!t&&i(e)})}else i("")},loading:function(e){this.isProd()&&api.showProgress({style:"default",animationType:"fade",title:"",text:e||"",modal:!0})},hideLoading:function(){this.isProd()&&api.hideProgress()}}}(window),function(e){function r(e){return{"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()}}function f(e,t){t=t||o,e=new Date(e);var n=r(e);for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"/u661f/u671f":"/u5468":"")+{0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"}[e.getDay()+""])),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}var o="yyyy-MM-dd HH:mm:ss";e.dateutil={parse:function(e,t){t=t||o;var n=r(new Date);for(var i in n){var a=new RegExp(i);a.test(t)&&(n[i]=(e+"").substr(a.exec(t).index,t.match(a).toString().length))}return new Date(+n["y+"],n["M+"]-1,+n["d+"],+n["H+"],+n["m+"],+n["s+"],+n["S+"])},format:f,addDay:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)},calendar:function(e,t){for(var n=function(e){return new Date(e.getFullYear(),e.getMonth(),1)}(e),i=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}(e),a=function(e){return e.getDay()}(n),r=a+(i.getDate()-n.getDate()+1),o=r%7!=0?r+(7-r%7):r,u=new Array(o),s=0;s<o;s++){var l=null,p=s<a,d=r-1<s,c=n.getFullYear(),g=n.getMonth();p||d?t&&(l=p?new Date(c,g,s-a+1):new Date(c,g+1,s-r+1)):l=new Date(c,g,n.getDate()+s-a),l&&(u[s]={date:l.getDate(),currentMonth:!p&&!d,datestr:f(l,"yyyy-MM-dd")})}return u},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getMaxDates:function(e,t){return 2===t?util.date.isLeapYear(e)?29:28:-1<[1,3,5,7,8,10,12].indexOf(t)?31:30}}}(window),function(t){apputil.isProd()||t.document.addEventListener("keyup",function(e){"Escape"===e.key&&t.top.history.back()}),t.util={app:apputil,date:dateutil,array:arrayutil,string:stringutil}}(window);